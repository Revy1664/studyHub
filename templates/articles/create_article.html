{% extends "base.html" %}


{% block content %}

<h1>Create</h1>
<form method="POST" enctype="multipart/form-data">
	{% csrf_token %}
	{{ article_form.as_p }}
	<div id="file-upload-container">
		<div class="file-upload">
			{{ article_file_form.as_p }}
		</div>
	</div>

	<button type="button" id="add-file-btn">Add another file</button>
	<button type="submit">Create</button>
</form>

<script>
    // JavaScript для добавления полей
    document.getElementById('add-file-btn').addEventListener('click', function () {
        let container = document.getElementById('file-upload-container');
        let newField = container.querySelector('.file-upload').cloneNode(true);
        
        // Очистить поле для нового файла
        newField.querySelector('input[type="file"]').value = '';
        container.appendChild(newField);
    });
</script>

{% endblock content %}